import { useFetcherMutation, UseFetcherMutationArgs } from '@straw-hat/react-query-fetcher';
import { Fetcher } from '@straw-hat/fetcher';
import { <%= functionName %> } from '<%= importPath %>';

const MUTATION_KEY = '<%= functionName %>';

export type Use<%= pascalFunctionName %> = UseFetcherMutationArgs<
  any,
  any,
  any
>;

export function use<%= pascalFunctionName %>(
  client: Fetcher,
  args: Omit<Use<%= pascalFunctionName %>, 'endpoint'>
) {
  const options = args.options ?? {};
  return useFetcherMutation(client, {
    options: {
      mutationKey: MUTATION_KEY,
      ...options,
    },
    endpoint: <%= functionName %>,
  });
}
